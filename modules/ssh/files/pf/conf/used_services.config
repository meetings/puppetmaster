# used_services.config - Services bound to use.

# port    bind addr    hostname           service
######    #########    ########           #######

3306      localhost    dcp-1              29994
20105     localhost    dcp-1              20105 # live-gearman-1
20106     localhost    dcp-1              20106 # live-gearman-2
7001      127.0.0.2    dcp-1              20047
7500      127.0.0.2    dcp-1              7702
7501      127.0.0.2    dcp-1              7703
7001      127.0.0.3    dcp-1              20048
7500      127.0.0.3    dcp-1              7704
7501      127.0.0.3    dcp-1              7705
11211     localhost    dcp-1              29981

3306      localhost    dcp-2              29994
20105     localhost    dcp-2              20105 # live-gearman-1
20106     localhost    dcp-2              20106 # live-gearman-2
7001      127.0.0.2    dcp-2              20047
7500      127.0.0.2    dcp-2              7702
7501      127.0.0.2    dcp-2              7703
7001      127.0.0.3    dcp-2              20048
7500      127.0.0.3    dcp-2              7704
7501      127.0.0.3    dcp-2              7705
11211     localhost    dcp-2              29981

3306      localhost    dev-dcp            20116
4730      localhost    dev-dcp            20113
7001      127.0.0.6    dev-dcp            20118
7500      127.0.0.6    dev-dcp            7710
7501      127.0.0.6    dev-dcp            7711
7001      127.0.0.7    dev-dcp            20120
7500      127.0.0.7    dev-dcp            7712
7501      127.0.0.7    dev-dcp            7713
11211     localhost    dev-dcp            20060

3306      localhost    beta-dcp           29994
20153     localhost    beta-dcp           20153 # beta-gearman
7001      127.0.0.2    beta-dcp           20047
7500      127.0.0.2    beta-dcp           7702
7501      127.0.0.2    beta-dcp           7703
7001      127.0.0.3    beta-dcp           20048
7500      127.0.0.3    beta-dcp           7704
7501      127.0.0.3    beta-dcp           7705
11211     localhost    beta-dcp           20157

7001      127.0.0.2    miner              20047
7500      127.0.0.2    miner              7702
7501      127.0.0.2    miner              7703
7001      127.0.0.3    miner              20048
7500      127.0.0.3    miner              7704
7501      127.0.0.3    miner              7705

### Core is the new DCP
#
3306      localhost    live-http-core-1   29994
4730      localhost    live-http-core-1   20105
4731      localhost    live-http-core-1   20106
7001      127.0.0.2    live-http-core-1   20047
7500      127.0.0.2    live-http-core-1   7702
7501      127.0.0.2    live-http-core-1   7703
7001      127.0.0.3    live-http-core-1   20048
7500      127.0.0.3    live-http-core-1   7704
7501      127.0.0.3    live-http-core-1   7705
11211     localhost    live-http-core-1   29981

3306      localhost    live-http-core-2   29994
4730      localhost    live-http-core-2   20105
4731      localhost    live-http-core-2   20106
7001      127.0.0.2    live-http-core-2   20047
7500      127.0.0.2    live-http-core-2   7702
7501      127.0.0.2    live-http-core-2   7703
7001      127.0.0.3    live-http-core-2   20048
7500      127.0.0.3    live-http-core-2   7704
7501      127.0.0.3    live-http-core-2   7705
11211     localhost    live-http-core-2   29981

3306      localhost    live-worker-core-1 29994
4730      localhost    live-worker-core-1 20105
4731      localhost    live-worker-core-1 20106
7001      127.0.0.2    live-worker-core-1 20047
7500      127.0.0.2    live-worker-core-1 7702
7501      127.0.0.2    live-worker-core-1 7703
7001      127.0.0.3    live-worker-core-1 20048
7500      127.0.0.3    live-worker-core-1 7704
7501      127.0.0.3    live-worker-core-1 7705
11211     localhost    live-worker-core-1 29981

3306      localhost    live-worker-core-2 29994
4730      localhost    live-worker-core-2 20105
4731      localhost    live-worker-core-2 20106
7001      127.0.0.2    live-worker-core-2 20047
7500      127.0.0.2    live-worker-core-2 7702
7501      127.0.0.2    live-worker-core-2 7703
7001      127.0.0.3    live-worker-core-2 20048
7500      127.0.0.3    live-worker-core-2 7704
7501      127.0.0.3    live-worker-core-2 7705
11211     localhost    live-worker-core-2 29981

3306      localhost    beta-http-core-1   29994
4730      localhost    beta-http-core-1   20153
7001      127.0.0.2    beta-http-core-1   20047
7500      127.0.0.2    beta-http-core-1   7702
7501      127.0.0.2    beta-http-core-1   7703
7001      127.0.0.3    beta-http-core-1   20048
7500      127.0.0.3    beta-http-core-1   7704
7501      127.0.0.3    beta-http-core-1   7705
11211     localhost    beta-http-core-1   20157

3306      localhost    beta-http-core-2   29994
4730      localhost    beta-http-core-2   20153
7001      127.0.0.2    beta-http-core-2   20047
7500      127.0.0.2    beta-http-core-2   7702
7501      127.0.0.2    beta-http-core-2   7703
7001      127.0.0.3    beta-http-core-2   20048
7500      127.0.0.3    beta-http-core-2   7704
7501      127.0.0.3    beta-http-core-2   7705
11211     localhost    beta-http-core-2   20157

3306      localhost    beta-worker-core-1 29994
4730      localhost    beta-worker-core-1 20153
7001      127.0.0.2    beta-worker-core-1 20047
7500      127.0.0.2    beta-worker-core-1 7702
7501      127.0.0.2    beta-worker-core-1 7703
7001      127.0.0.3    beta-worker-core-1 20048
7500      127.0.0.3    beta-worker-core-1 7704
7501      127.0.0.3    beta-worker-core-1 7705
11211     localhost    beta-worker-core-1 20157

3306      localhost    beta-worker-core-2 29994
4730      localhost    beta-worker-core-2 20153
7001      127.0.0.2    beta-worker-core-2 20047
7500      127.0.0.2    beta-worker-core-2 7702
7501      127.0.0.2    beta-worker-core-2 7703
7001      127.0.0.3    beta-worker-core-2 20048
7500      127.0.0.3    beta-worker-core-2 7704
7501      127.0.0.3    beta-worker-core-2 7705
11211     localhost    beta-worker-core-2 20157

3306      localhost    test-cron-core-1   29987
4730      localhost    test-cron-core-1   20217
4731      localhost    test-cron-core-1   20218
7001      127.0.0.4    test-cron-core-1   20205
7500      127.0.0.4    test-cron-core-1   7706
7501      127.0.0.4    test-cron-core-1   7707
7001      127.0.0.5    test-cron-core-1   20206
7500      127.0.0.5    test-cron-core-1   7708
7501      127.0.0.5    test-cron-core-1   7709
11211     localhost    test-cron-core-1   29983

3306      localhost    test-http-core-1   29987
4730      localhost    test-http-core-1   20217
4731      localhost    test-http-core-1   20218
7001      127.0.0.4    test-http-core-1   20205
7500      127.0.0.4    test-http-core-1   7706
7501      127.0.0.4    test-http-core-1   7707
7001      127.0.0.5    test-http-core-1   20206
7500      127.0.0.5    test-http-core-1   7708
7501      127.0.0.5    test-http-core-1   7709
11211     localhost    test-http-core-1   29983

3306      localhost    test-http-core-2   29987
4730      localhost    test-http-core-2   20217
4731      localhost    test-http-core-2   20218
7001      127.0.0.4    test-http-core-2   20205
7500      127.0.0.4    test-http-core-2   7706
7501      127.0.0.4    test-http-core-2   7707
7001      127.0.0.5    test-http-core-2   20206
7500      127.0.0.5    test-http-core-2   7708
7501      127.0.0.5    test-http-core-2   7709
11211     localhost    test-http-core-2   29983

3306      localhost    test-worker-core-1 29987
4730      localhost    test-worker-core-1 20217
4731      localhost    test-worker-core-1 20218
7001      127.0.0.4    test-worker-core-1 20205
7500      127.0.0.4    test-worker-core-1 7706
7501      127.0.0.4    test-worker-core-1 7707
7001      127.0.0.5    test-worker-core-1 20206
7500      127.0.0.5    test-worker-core-1 7708
7501      127.0.0.5    test-worker-core-1 7709
11211     localhost    test-worker-core-1 29983

3306      localhost    test-worker-core-2 29987
4730      localhost    test-worker-core-2 20217
4731      localhost    test-worker-core-2 20218
7001      127.0.0.4    test-worker-core-2 20205
7500      127.0.0.4    test-worker-core-2 7706
7501      127.0.0.4    test-worker-core-2 7707
7001      127.0.0.5    test-worker-core-2 20206
7500      127.0.0.5    test-worker-core-2 7708
7501      127.0.0.5    test-worker-core-2 7709
11211     localhost    test-worker-core-2 29983

3306      localhost    dev-core           20116
4730      localhost    dev-core           20113
7001      127.0.0.6    dev-core           20118
7500      127.0.0.6    dev-core           7710
7501      127.0.0.6    dev-core           7711
7001      127.0.0.7    dev-core           20120
7500      127.0.0.7    dev-core           7712
7501      127.0.0.7    dev-core           7713
11211     localhost    dev-core           20060

# Node.js workers
#
3306      localhost    live-worker-js-1   29994
4730      localhost    live-worker-js-1   20105
4731      localhost    live-worker-js-1   20106
11211     localhost    live-worker-js-1   29981

3306      localhost    live-worker-js-2   29994
4730      localhost    live-worker-js-2   20105
4731      localhost    live-worker-js-2   20106
11211     localhost    live-worker-js-2   29981

3306      localhost    beta-worker-js-1   29994
4730      localhost    beta-worker-js-1   20153
11211     localhost    beta-worker-js-1   20157

3306      localhost    beta-worker-js-2   29994
4730      localhost    beta-worker-js-2   20153
11211     localhost    beta-worker-js-2   20157

3306      localhost    dev-worker-js      20116
4730      localhost    dev-worker-js      20113
11211     localhost    dev-worker-js      20060

# Access to database servers
#
3306      localhost    blogging           29997
3306      localhost    live-blog-1        29997
3306      localhost    live-blog-2        29997
3306      localhost    dev-gearman        20116
3306      localhost    dev-mogile-1       20116
3306      localhost    dev-mogile-2       20116

# Production Mysql replication
#
3307      localhost    mm-mysql-5         20087
3307      localhost    mm-mysql-6         20085
3307      localhost    blog-mysql-1       20096
3307      localhost    blog-mysql-2       20094
3307      localhost    blog-mysql-3       20094
3307      localhost    test-mysql-1       20210
3307      localhost    test-mysql-2       20209

# Mysql failover control ports
#
20094     localhost    blog-mysql-1       3306
20096     localhost    blog-mysql-2       3306

# HTTP interconnects for Dicole event servers
#
9000      10.0.0.1     live-events-1      20067
9000      10.0.0.1     live-events-2      20066

### Gearman to API bindings
#
4730      localhost    stable-api-1       20105
4731      localhost    stable-api-1       20106
4730      localhost    stable-api-2       20105
4731      localhost    stable-api-2       20106
4730      localhost    live-api-1         20105
4731      localhost    live-api-1         20106
4730      localhost    live-api-2         20105
4731      localhost    live-api-2         20106

4730      localhost    beta-api-1         20153
4730      localhost    beta-api-2         20153
4730      localhost    alpha-api-1        20153
4730      localhost    alpha-api-2        20153

4730      localhost    test-api-1         20217
4731      localhost    test-api-1         20218
4730      localhost    test-api-2         20217
4731      localhost    test-api-2         20218

4730      localhost    dev-api            20113

### Gearsloth bindings to job servers and mysqls
#
4730      localhost    live-sloth-1       20105
4731      localhost    live-sloth-1       20106
4730      localhost    live-sloth-2       20105
4731      localhost    live-sloth-2       20106

4730      localhost    beta-sloth-1       20153
4730      localhost    beta-sloth-2       20153

4730      localhost    test-sloth-1       20217
4731      localhost    test-sloth-1       20218
4730      localhost    test-sloth-2       20217
4731      localhost    test-sloth-2       20218

4730      localhost    dev-sloth-1        20113
4730      localhost    dev-sloth-2        20113

4730      localhost    dev-gsloth-1       20113
4730      localhost    dev-gsloth-2       20113

# Backup access to essential databases
#
3301      localhost    backup-1           20116
3301      localhost    backup-2           20116
3302      localhost    backup-1           20094
3302      localhost    backup-2           20094
3303      localhost    backup-1           20087
3303      localhost    backup-2           20087

### Mogile port hulabaloo
#
# Relevant database should be bound to 3306 and
# Mogiles have each their own loopback address:
#
#   127.0.0.2  live-mogile-1
#   127.0.0.3  live-mogile-2
#   127.0.0.4  test-mogile-1
#   127.0.0.5  test-mogile-2
#   127.0.0.6  dev-mogile-1
#   127.0.0.7  dev-mogile-2
#
3306      localhost    live-mogile-1      29994
7001      127.0.0.2    live-mogile-1      20047
7500      127.0.0.2    live-mogile-1      7702
7501      127.0.0.2    live-mogile-1      7703
7001      127.0.0.3    live-mogile-1      20048
7500      127.0.0.3    live-mogile-1      7704
7501      127.0.0.3    live-mogile-1      7705

3306      localhost    live-mogile-2      29994
7001      127.0.0.2    live-mogile-2      20047
7500      127.0.0.2    live-mogile-2      7702
7501      127.0.0.2    live-mogile-2      7703
7001      127.0.0.3    live-mogile-2      20048
7500      127.0.0.3    live-mogile-2      7704
7501      127.0.0.3    live-mogile-2      7705

3306      localhost    test-mogile-1      29987
7001      127.0.0.4    test-mogile-1      20205
7500      127.0.0.4    test-mogile-1      7706
7501      127.0.0.4    test-mogile-1      7707
7001      127.0.0.5    test-mogile-1      20206
7500      127.0.0.5    test-mogile-1      7708
7501      127.0.0.5    test-mogile-1      7709

3306      localhost    test-mogile-2      29987
7001      127.0.0.4    test-mogile-2      20205
7500      127.0.0.4    test-mogile-2      7706
7501      127.0.0.4    test-mogile-2      7707
7001      127.0.0.5    test-mogile-2      20206
7500      127.0.0.5    test-mogile-2      7708
7501      127.0.0.5    test-mogile-2      7709

3306      localhost    dev-mogile-1       20116
7001      127.0.0.6    dev-mogile-1       20118
7500      127.0.0.6    dev-mogile-1       7710
7501      127.0.0.6    dev-mogile-1       7711
7001      127.0.0.7    dev-mogile-1       20120
7500      127.0.0.7    dev-mogile-1       7712
7501      127.0.0.7    dev-mogile-1       7713

3306      localhost    dev-mogile-2       20116
7001      127.0.0.6    dev-mogile-2       20118
7500      127.0.0.6    dev-mogile-2       7710
7501      127.0.0.6    dev-mogile-2       7711
7001      127.0.0.7    dev-mogile-2       20120
7500      127.0.0.7    dev-mogile-2       7712
7501      127.0.0.7    dev-mogile-2       7713

### Fronts
#
# On front machines we have a varnish standing in front of mogile fetches
# and it is listening to 7500 as that is the normal mogile storage node
# http port. The varnish then passes the request to the real mogile through
# the port 7600 which we bind here to go to the actual mogile instance.
#
7600      127.0.0.2    live-front-1       7702
7600      127.0.0.3    live-front-1       7704
7600      127.0.0.6    live-front-1       7710
7600      127.0.0.7    live-front-1       7712

7600      127.0.0.2    live-front-2       7702
7600      127.0.0.3    live-front-2       7704
7600      127.0.0.6    live-front-2       7710
7600      127.0.0.7    live-front-2       7712

7600      127.0.0.4    test-front-1       7706
7600      127.0.0.5    test-front-1       7708

7600      127.0.0.6    dev-front          7710
7600      127.0.0.7    dev-front          7712
